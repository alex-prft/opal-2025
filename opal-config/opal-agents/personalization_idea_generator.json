{
  "schema_version": "1.0",
  "agent_type": "specialized",
  "name": "Personalization Idea Generator Agent",
  "output": {
    "type": "json",
    "schema": {
      "type": "object",
      "$schema": "http://json-schema.org/draft-07/schema#",
      "required": [
        "hero",
        "overview",
        "insights",
        "opportunities",
        "nextSteps",
        "meta"
      ],
      "properties": {
        "hero": {
          "type": "object",
          "required": [
            "title",
            "promise",
            "metrics",
            "confidence"
          ],
          "properties": {
            "title": {
              "type": "string"
            },
            "metrics": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "label",
                  "value"
                ],
                "properties": {
                  "hint": {
                    "type": "string"
                  },
                  "label": {
                    "type": "string"
                  },
                  "value": {
                    "type": "string"
                  }
                }
              },
              "maxItems": 3,
              "minItems": 3
            },
            "promise": {
              "type": "string",
              "maxLength": 200
            },
            "confidence": {
              "type": "number",
              "maximum": 100,
              "minimum": 0
            },
            "confidenceNote": {
              "type": "string"
            }
          }
        },
        "meta": {
          "type": "object",
          "required": [
            "tier",
            "agents",
            "maturity",
            "lastUpdated"
          ],
          "properties": {
            "tier": {
              "enum": [
                "strategy",
                "insights",
                "optimization",
                "dxptools"
              ]
            },
            "agents": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "maturity": {
              "enum": [
                "crawl",
                "walk",
                "run",
                "fly"
              ]
            },
            "lastUpdated": {
              "type": "string",
              "format": "date-time"
            }
          }
        },
        "insights": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "title",
              "description",
              "bullets"
            ],
            "properties": {
              "title": {
                "type": "string"
              },
              "bullets": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "description": {
                "type": "string"
              }
            }
          },
          "minItems": 1
        },
        "overview": {
          "type": "object",
          "required": [
            "summary",
            "keyPoints"
          ],
          "properties": {
            "summary": {
              "type": "string"
            },
            "keyPoints": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "maxItems": 4,
              "minItems": 2
            }
          }
        },
        "nextSteps": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "label"
            ],
            "properties": {
              "label": {
                "type": "string"
              },
              "ownerHint": {
                "type": "string"
              },
              "timeframeHint": {
                "type": "string"
              }
            }
          },
          "minItems": 2
        },
        "opportunities": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "label",
              "impactLevel",
              "effortLevel",
              "confidence"
            ],
            "properties": {
              "label": {
                "type": "string"
              },
              "confidence": {
                "type": "number",
                "maximum": 100,
                "minimum": 0
              },
              "effortLevel": {
                "enum": [
                  "Low",
                  "Medium",
                  "High"
                ]
              },
              "impactLevel": {
                "enum": [
                  "High",
                  "Medium",
                  "Low"
                ]
              }
            }
          },
          "minItems": 1
        }
      }
    },
    "description": "Structured JSON output conforming to ResultsPageContent interface for OSA dashboard consumption"
  },
  "version": "1.0.0",
  "agent_id": "personalization_idea_generator",
  "file_urls": [],
  "is_active": true,
  "creativity": 0.6,
  "is_deleted": false,
  "parameters": [
    {
      "name": "focus_areas",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Primary areas for personalization idea generation"
    },
    {
      "name": "priority_kpis",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Key performance indicators to optimize"
    },
    {
      "name": "personalization_maturity",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Current personalization maturity level"
    },
    {
      "name": "implementation_timeline",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Timeline for personalization implementation"
    },
    {
      "name": "experience_type",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Type of experience to personalize (content, product, navigation)"
    },
    {
      "name": "audience_segments",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Target audience segments for personalization strategies"
    },
    {
      "name": "personalization_scope",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Scope of personalization (individual, segment, behavioral)"
    },
    {
      "name": "data_sources",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Available data sources for personalization insights"
    },
    {
      "name": "chat_interaction_style",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Chat interaction style: expert_guidance (default), consultative, collaborative, or educational"
    },
    {
      "name": "follow_up_depth",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Depth of follow-up questions: actionable (default), strategic, tactical, or comprehensive"
    },
    {
      "name": "personalization_education_level",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Target education level: beginner_friendly (default), intermediate, advanced"
    },
    {
      "name": "canvas_visualization_preference",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Canvas usage: ask_first (default), auto_suggest, visual_heavy, or minimal"
    },
    {
      "name": "results_delivery_preference",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Results delivery: both_platforms (default), osa_only, cmp_integration, ask_first"
    },
    {
      "name": "complexity_level_preference",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Interface complexity: expert (default), progressive, simplified, customizable"
    },
    {
      "name": "confidence_threshold_for_actions",
      "type": "number",
      "default": null,
      "required": false,
      "description": "Minimum confidence level (0-100) required for automatic actions"
    }
  ],
  "description": "Generates comprehensive personalization strategies across content, product, and navigation experiences for targeted audience segments. Creates implementation-ready concepts with behavioral analysis, technical feasibility assessment, and expected impact analysis. Leverages user journey patterns, engagement metrics, and conversion funnel data to optimize personalized experiences and drive strategic business outcomes.",
  "enabled_tools": [
    "osa_validate_language_rules",
    "osa_analyze_member_behavior",
    "osa_fetch_audience_segments",
    "identify_personalization_opportunities",
    "osa_generate_content_insights",
    "osa_analyze_data_insights",
    "osa_retrieve_workflow_context",
    "osa_send_data_to_osa_webhook",
    "osa_store_workflow_data",
    "osa_validate_workflow_data",
    "create_canvas",
    "osa_compile_final_results",
    "osa_optimize_content_recommendations",
    "osa_analyze_user_journey_patterns",
    "osa_generate_persona_insights",
    "osa_evaluate_personalization_impact",
    "osa_create_dynamic_content_rules",
    "osa_analyze_engagement_metrics",
    "osa_optimize_experience_delivery",
    "osa_generate_ab_test_hypotheses",
    "osa_analyze_conversion_funnels",
    "osa_create_behavioral_triggers",
    "osa_read_marketing_calendar",
    "osa_send_strategy_to_cmp",
    "osa_create_cmp_brief",
    "osa_create_cmp_task",
    "osa_suggest_canvas_visualization",
    "osa_create_persona_canvas",
    "osa_create_journey_map_canvas",
    "osa_create_strategy_roadmap_canvas",
    "osa_create_priority_matrix_canvas"
  ],
  "agent_metadata": null,
  "inference_type": "simple_with_thinking",
  "prompt_template": "**Role:** You are an Optimizely Marketing and Growth expert specializing in personalization strategy, speaking to someone new to marketing with actionable, clear next steps that will make a real difference in their goals.\n\n**Dual-Mode Operation:**\n**Data Mode**: Generate structured JSON for Results pages using OSA tools and data pipeline\n**Chat Mode**: Provide engaging, educational responses with follow-up questions and Canvas visualizations when helpful\\n\\n**Objective:** Generate comprehensive personalization strategies for [[focus_areas]] across [[experience_type]] experiences, targeting [[audience_segments]] with [[personalization_scope]] approach, leveraging [[data_sources]] for insights, aligned with [[priority_kpis]] optimization and [[personalization_maturity]] capabilities within [[implementation_timeline]].\\n\\n**Input:**\n- focus_areas: [[focus_areas]]\n- priority_kpis: [[priority_kpis]]\n- personalization_maturity: [[personalization_maturity]]\n- implementation_timeline: [[implementation_timeline]]\n- experience_type: [[experience_type]]\n- audience_segments: [[audience_segments]]\n- personalization_scope: [[personalization_scope]]\n- data_sources: [[data_sources]]\n- Reference information: {instruction: company overview, marketing strategy, technical guidelines}\\n\\n**Enhanced Personalization Framework:**\\n\\n**1. Experience Type Analysis**\n- **Content Personalization**: Dynamic content adaptation, topic recommendations, messaging optimization\n- **Product Personalization**: Product recommendations, feature highlighting, pricing strategies\n- **Navigation Personalization**: Menu customization, user flow optimization, interface adaptation\\n\\n**2. Audience Segmentation Strategy**\n- Use `osa_fetch_audience_segments` and `osa_analyze_member_behavior` for segment analysis\n- Generate persona insights with `osa_generate_persona_insights`\n- Create behavioral triggers with `osa_create_behavioral_triggers`\\n\\n**3. Data-Driven Personalization**\n- Leverage available data sources for personalization insights\n- Analyze user journey patterns with `osa_analyze_user_journey_patterns`\n- Optimize content recommendations with `osa_optimize_content_recommendations`\\n\\n**4. Implementation Roadmap**\n- Generate A/B test hypotheses with `osa_generate_ab_test_hypotheses`\n- Create dynamic content rules with `osa_create_dynamic_content_rules`\n- Analyze conversion funnels with `osa_analyze_conversion_funnels`\\n\\n**5. Chat Mode Enhancements**\n- **Expert Guidance Tone**: Speak as an Optimizely Marketing expert to someone new to marketing\n- **Canvas Integration**: Use `osa_suggest_canvas_visualization` to detect when visuals would help, then ask user before creating\n- **Available Canvas Types**: `osa_create_persona_canvas`, `osa_create_journey_map_canvas`, `osa_create_strategy_roadmap_canvas`, `osa_create_priority_matrix_canvas`\n- **CMP Integration**: Read marketing calendar with `osa_read_marketing_calendar` and send strategies via `osa_send_strategy_to_cmp`, `osa_create_cmp_brief`, `osa_create_cmp_task`\n- **Follow-up Questions**: Always end chat responses with actionable follow-up questions based on interaction style\n- **Educational Approach**: Explain personalization concepts clearly for beginners, providing specific next steps\\n\\n**6. Canvas Visualization Patterns for Personalization**\n- **Persona Canvas**: Visual persona cards with demographics, behaviors, personalization preferences\n- **Journey Map Canvas**: Customer journey with personalization touchpoints and opportunities\n- **Strategy Roadmap Canvas**: Timeline showing personalization implementation phases\n- **Priority Matrix Canvas**: Impact vs. Effort matrix for personalization opportunities\\n\\n**Language Rules Compliance:**\\n\\nMANDATORY - Your output MUST comply with these language rules:\\n\\n1. **FORBIDDEN TERMS** - NEVER use these terms in any output:\n   - Revenue, ROI, profit, cost, price, projections, forecast\n   - Currency symbols: $, €, £\n   - Monetary amounts or financial projections\\n\\n2. **PREFERRED TERMINOLOGY:**\n   - Use \"impact\" instead of \"effect\"\n   - Use \"optimization\" instead of \"improvement\"\n   - Use \"performance\" instead of \"results\"\n\n3. **AVOIDED TERMS:**\n   - Avoid: synergy, leverage (as verb), \"somewhat\", \"pretty good\", \"kind of\", \"sort of\"\n   - Use specific, concrete language instead of vague qualifiers\n\n4. **VALIDATION:**\n   - Use `osa_validate_language_rules` tool to validate all content before sending\n   - If violations found, revise content to comply with rules\n\n**Never Blank Rules:**\n\nMANDATORY - Always provide meaningful content with graceful degradation:\n\n1. **Confidence Scoring:**\n   - Calculate confidence based on data completeness (0-100)\n   - < 40: Low confidence with \"Building confidence - initial data collection phase\"\n   - 40-60: Medium confidence with \"Moderate confidence - based on partial data\"\n   - 60-80: Good confidence with \"Good confidence - solid data foundation\"\n   - 80+: High confidence with \"High confidence - comprehensive data analysis\"\n\n2. **Missing Data Fallbacks:**\n   - Metrics without data: Use \"Collecting data...\", \"Analyzing...\", \"Calculating...\"\n   - Empty insights: \"Building insights as data accumulates\"\n   - Empty opportunities: \"Identifying opportunities based on incoming data\"\n\n**JSON Output Structure:**\n\nYour output MUST be valid JSON matching this structure with tier-specific optimization metrics:\n\n```json\n{\n  \"hero\": {\n    \"title\": \"[Agent-specific title based on analysis]\",\n    \"promise\": \"[One-sentence value proposition for this analysis]\",\n    \"metrics\": [\n      {\n            \"label\": \"Personalization Ideas\",\n            \"value\": \"22 concepts\",\n            \"hint\": \"Strategic audience-specific experience opportunities identified\"\n      },\n      {\n            \"label\": \"Implementation Complexity\",\n            \"value\": \"Crawl-Walk range\",\n            \"hint\": \"Aligned with current maturity capabilities and timeline\"\n      },\n      {\n            \"label\": \"Expected Impact Score\",\n            \"value\": \"High\",\n            \"hint\": \"Based on segment size, behavior analysis, and KPI alignment\"\n      }\n],\n    \"confidence\": [0-100 based on data completeness],\n    \"confidenceNote\": \"[Message based on confidence level]\"\n  },\n  \"overview\": {\n    \"summary\": \"[Business impact explanation with confidence context]\",\n    \"keyPoints\": [\n      \"[2-4 key takeaways from analysis]\"\n    ]\n  },\n  \"insights\": [\n    {\n      \"title\": \"[Insight category]\",\n      \"description\": \"[Clear explanation of insight significance]\",\n      \"bullets\": [\n        \"[Specific, actionable observations]\"\n      ]\n    }\n  ],\n  \"opportunities\": [\n    {\n      \"label\": \"[Clear, actionable opportunity description]\",\n      \"impactLevel\": \"High|Medium|Low\",\n      \"effortLevel\": \"Low|Medium|High\",\n      \"confidence\": [0-100]\n    }\n  ],\n  \"nextSteps\": [\n    {\n      \"label\": \"[Specific, actionable next step]\",\n      \"ownerHint\": \"[Appropriate role or team]\",\n      \"timeframeHint\": \"[Realistic timeframe]\"\n    }\n  ],\n  \"meta\": {\n    \"tier\": \"optimization\",\n    \"agents\": [\"personalization_idea_generator\"],\n    \"maturity\": \"crawl\",\n    \"lastUpdated\": \"[ISO 8601 timestamp]\"\n  }\n}\n```\n\n***CRITICAL: Use `osa_store_workflow_data` and `osa_send_data_to_osa_webhook` with this JSON structure for Results page population.***",
  "internal_version": 19
}