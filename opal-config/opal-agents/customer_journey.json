{
  "schema_version": "1.0",
  "agent_type": "specialized",
  "name": "Customer Journey Agent",
  "output": {
    "type": "json",
    "schema": {
      "type": "object",
      "$schema": "http://json-schema.org/draft-07/schema#",
      "required": [
        "hero",
        "overview",
        "insights",
        "opportunities",
        "nextSteps",
        "meta"
      ],
      "properties": {
        "hero": {
          "type": "object",
          "required": [
            "title",
            "promise",
            "metrics",
            "confidence"
          ],
          "properties": {
            "title": {
              "type": "string"
            },
            "metrics": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "label",
                  "value"
                ],
                "properties": {
                  "hint": {
                    "type": "string"
                  },
                  "label": {
                    "type": "string"
                  },
                  "value": {
                    "type": "string"
                  }
                }
              },
              "maxItems": 3,
              "minItems": 3
            },
            "promise": {
              "type": "string",
              "maxLength": 200
            },
            "confidence": {
              "type": "number",
              "maximum": 100,
              "minimum": 0
            },
            "confidenceNote": {
              "type": "string"
            }
          }
        },
        "meta": {
          "type": "object",
          "required": [
            "tier",
            "agents",
            "maturity",
            "lastUpdated"
          ],
          "properties": {
            "tier": {
              "enum": [
                "strategy",
                "insights",
                "optimization",
                "dxptools"
              ]
            },
            "agents": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "maturity": {
              "enum": [
                "crawl",
                "walk",
                "run",
                "fly"
              ]
            },
            "lastUpdated": {
              "type": "string",
              "format": "date-time"
            }
          }
        },
        "insights": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "title",
              "description",
              "bullets"
            ],
            "properties": {
              "title": {
                "type": "string"
              },
              "bullets": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "description": {
                "type": "string"
              }
            }
          },
          "minItems": 1
        },
        "overview": {
          "type": "object",
          "required": [
            "summary",
            "keyPoints"
          ],
          "properties": {
            "summary": {
              "type": "string"
            },
            "keyPoints": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "maxItems": 4,
              "minItems": 2
            }
          }
        },
        "nextSteps": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "label"
            ],
            "properties": {
              "label": {
                "type": "string"
              },
              "ownerHint": {
                "type": "string"
              },
              "timeframeHint": {
                "type": "string"
              }
            }
          },
          "minItems": 2
        },
        "opportunities": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "label",
              "impactLevel",
              "effortLevel",
              "confidence"
            ],
            "properties": {
              "label": {
                "type": "string"
              },
              "confidence": {
                "type": "number",
                "maximum": 100,
                "minimum": 0
              },
              "effortLevel": {
                "enum": [
                  "Low",
                  "Medium",
                  "High"
                ]
              },
              "impactLevel": {
                "enum": [
                  "High",
                  "Medium",
                  "Low"
                ]
              }
            }
          },
          "minItems": 1
        }
      }
    },
    "description": "Structured JSON output conforming to ResultsPageContent interface for OSA dashboard consumption"
  },
  "version": "1.0.0",
  "agent_id": "customer_journey",
  "file_urls": [],
  "is_active": true,
  "creativity": 0.6,
  "is_deleted": false,
  "parameters": [
    {
      "name": "journey_scope",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Scope of customer journey analysis (full lifecycle, specific stages, etc.)"
    },
    {
      "name": "analysis_depth",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Level of journey analysis detail"
    },
    {
      "name": "journey_stages",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Specific journey stages to analyze (awareness, consideration, conversion, retention)"
    },
    {
      "name": "cx_metrics",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Customer experience metrics to track and optimize"
    },
    {
      "name": "touchpoint_analysis",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Touchpoint analysis focus (digital, physical, omnichannel)"
    },
    {
      "name": "url",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Website url"
    },
    {
      "name": "kpi_target",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Primary KPI to personalize for\n\n"
    },
    {
      "name": "behavioral_patterns",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Specific behavioral patterns to analyze"
    },
    {
      "name": "segment_priority",
      "type": "string",
      "default": null,
      "required": false,
      "description": "segment_priority"
    }
  ],
  "description": "Analyzes customer journey patterns with comprehensive CX analytics, identifies drop-off points and friction areas, and provides experience optimization recommendations. Maps journey stages, tracks touchpoint effectiveness, analyzes cross-channel behavior, and generates persona-specific journey variations with actionable insights for experience flow optimization.",
  "enabled_tools": [
    "osa_validate_language_rules",
    "osa_analyze_member_behavior",
    "osa_fetch_audience_segments",
    "osa_analyze_data_insights",
    "osa_audit_content_structure",
    "osa_generate_content_insights",
    "osa_retrieve_workflow_context",
    "osa_send_data_to_osa_webhook",
    "osa_store_workflow_data",
    "osa_validate_workflow_data",
    "create_canvas",
    "osa_compile_final_results",
    "osa_map_customer_journey_stages",
    "osa_analyze_touchpoint_effectiveness",
    "osa_identify_journey_friction_points",
    "osa_track_cx_metrics",
    "osa_optimize_experience_flows",
    "osa_analyze_cross_channel_behavior",
    "osa_generate_journey_insights",
    "osa_personalize_journey_experiences",
    "osa_read_marketing_calendar",
    "osa_send_strategy_to_cmp",
    "osa_create_cmp_brief",
    "osa_create_cmp_task",
    "osa_suggest_canvas_visualization",
    "osa_create_journey_map_canvas",
    "osa_create_touchpoint_analysis_canvas",
    "osa_create_friction_heatmap_canvas",
    "osa_create_cx_metrics_dashboard_canvas"
  ],
  "agent_metadata": null,
  "inference_type": "complex",
  "prompt_template": "## Role\n\nYou are a customer experience expert specializing in customer journey analytics and experience optimization, speaking to someone new to marketing with actionable, clear next steps that will make a real difference in their goals.\n\n## Goal\n\n## Input\n\n- journey_scope: [[journey_scope]]\n- analysis_depth: [[analysis_depth]]\n- journey_stages: [[journey_stages]]\n- cx_metrics: [[cx_metrics]]\n- touchpoint_analysis: [[touchpoint_analysis]]\n\n- Website: [[url]]\n- KPI Target: [[kpi_target]]\n- Analysis Depth: [[analysis_depth]]\n- Behavioral Patterns: [[behavioral_patterns]]\n- Segment Priority: [[segment_priority]]\n- ====Industry:  {instruction: Use Company Overview}\n- Target Personas:  {instruction: Use Personas}\n- Content Guidelines: {instruction: Use Content Guidelines, Brand &amp; Tone Guidelines}************\n- Content Pillars:  {instruction: Use Content Guidelines}\n- Primary KPIs:  {instruction: Use KPI &amp; Experimentation Definitions}\n- Member Segments:  {instruction: Use Personas}\n- Data Alignment and ID Resolution**: **{instruction: Use Data Governance &amp; ID Strategy}\n\n## Tasks\n\n&nbsp;Provide customer journey guidance with visual journey maps and friction analysis to guide immediate experience optimization\n\n**Enhanced Customer Experience Analytics Framework:**\n\n**1. Journey Stage Mapping**\n\n- Map customer journey stages with `osa_map_customer_journey_stages`\n- Generate journey insights with `osa_generate_journey_insights`\n- Personalize journey experiences with `osa_personalize_journey_experiences`\n\n**2. Touchpoint &amp; Friction Analysis**\n\n- Analyze touchpoint effectiveness with `osa_analyze_touchpoint_effectiveness`\n- Identify journey friction points with `osa_identify_journey_friction_points`\n- Optimize experience flows with `osa_optimize_experience_flows`\n\n**3. Cross-Channel Behavior Analytics**\n\n- Analyze cross-channel behavior with `osa_analyze_cross_channel_behavior`\n- Track CX metrics with `osa_track_cx_metrics`\n- Analyze member behavior with `osa_analyze_member_behavior`\n\n**4. Strategic Experience Optimization**\n\n- Fetch audience segments with `osa_fetch_audience_segments`\n- Generate content insights with `osa_generate_content_insights`\n- Analyze data insights with `osa_analyze_data_insights`\n- Ask questions that lead to immediate friction resolution, touchpoint optimization, and personalization opportunities\n\n**5. Customer Journey&nbsp;Enhancements**\n\n- Journey Consultant Approach\nGuide users through journey mapping, friction identification, and experience optimization with practical CX improvement&nbsp; \n\n\n\n******6. Canvas Integration**\n\n- Use `osa_suggest_canvas_visualization` to identify when journey maps, touchpoint analysis, or CX metrics need visual representation using create_canvas \n\n**6. Canvas Visualization Patterns for Customer Journey Analytics**\n\n- Journey Map Canvas - Complete customer lifecycle visualization with stages, touchpoints, emotions, and optimization opportunities using osa_create_journey_map_canvas\n- Touchpoint Analysis Canvas - Cross-channel touchpoint effectiveness with performance metrics and optimization recommendations using osa_create_touchpoint_analysis_canvas\n- Friction Heatmap Canvas - Visual friction point identification with severity scoring and resolution priority matrix using osa_create_friction_heatmap_canvas\n- CX Metrics Dashboard Canvas - Real-time customer experience metrics with journey stage performance and trend analysis using osa_create_cx_metrics_dashboard_canvas\n\n******7. CMP Integration**\n\n- Align journey insights with campaign execution using `osa_read_marketing_calendar`, send journey strategies via `osa_send_strategy_to_cmp`, create journey briefs with `osa_create_cmp_brief`, generate touchpoint tasks with `osa_create_cmp_task`\n\n## Output\n\n1. **Report Output:**\n  1. Provide report on customer journey patterns across&nbsp;[[journey_scope]]&nbsp;with visualizations and practical implementation recommendations for  [[journey_stages]]&nbsp;stages, tracking&nbsp;[[cx_metrics]]&nbsp;metrics with&nbsp;[[touchpoint_analysis]]&nbsp;touchpoint analysis and&nbsp;[[analysis_depth]]&nbsp;depth.\n  2. This is delivered using AI Canvas with create_canvas formatted tables and charts aligned with the follow-up strategy.\n    1. Chat Output Format\n      1. Apply AI Canvas tools to create readable charts and graphics for OPAL interface display\n2. **Data Output**\n  1. Always generate structured JSON data for OSA Results page consumption via osa_store_workflow_data and osa_send_data_to_osa_webhook\n  2. Data Output Format\n    1. Your data output must be valid JSON matching this structure with specific metrics:\n\n```\n{\n  \"hero\": {\n    \"title\": \"[Agent-specific title based on analysis]\",\n    \"promise\": \"[One-sentence value proposition for this analysis]\",\n    \"metrics\": [\n      {\n            \"label\": \"Journey Stages Analyzed\",\n            \"value\": \"6 stages\",\n            \"hint\": \"Complete lifecycle mapping from awareness through advocacy\"\n      },\n      {\n            \"label\": \"Drop-off Points Identified\",\n            \"value\": \"8 friction areas\",\n            \"hint\": \"Critical optimization opportunities discovered through behavioral analysis\"\n      },\n      {\n            \"label\": \"Cross-Channel Insights\",\n            \"value\": \"12 touchpoints\",\n            \"hint\": \"Multi-device and channel behavior patterns documented\"\n      }\n],\n    \"confidence\": [0-100 based on data completeness],\n    \"confidenceNote\": \"[Message based on confidence level]\"\n  },\n  \"overview\": {\n    \"summary\": \"[Business impact explanation with confidence context]\",\n    \"keyPoints\": [\n      \"[2-4 key takeaways from analysis]\"\n    ]\n  },\n  \"insights\": [\n    {\n      \"title\": \"[Insight category]\",\n      \"description\": \"[Clear explanation of insight significance]\",\n      \"bullets\": [\n        \"[Specific, actionable observations]\"\n      ]\n    }\n  ],\n  \"opportunities\": [\n    {\n      \"label\": \"[Clear, actionable opportunity description]\",\n      \"impactLevel\": \"High|Medium|Low\",\n      \"effortLevel\": \"Low|Medium|High\",\n      \"confidence\": [0-100]\n    }\n  ],\n  \"nextSteps\": [\n    {\n      \"label\": \"[Specific, actionable next step]\",\n      \"ownerHint\": \"[Appropriate role or team]\",\n      \"timeframeHint\": \"[Realistic timeframe]\"\n    }\n  ],\n  \"meta\": {\n    \"tier\": \"insights\",\n    \"agents\": [\"customer_journey\"],\n    \"maturity\": \"crawl\",\n    \"lastUpdated\": \"[ISO 8601 timestamp]\"\n  }\n}\n```",
  "internal_version": 18
}