{
  "name": "OSA Workflow Data Sharing",
  "description": "Core workflow data sharing and communication tools for OSA personalization strategy agents",
  "discovery_url": "https://opal-2025.vercel.app/api/tools/workflow-data/discovery",
  "registry_id": "osa_workflow_data",
  "version": "1.0.0",
  "tools": [
    {
      "name": "osa_store_workflow_data",
      "description": "Store agent results in shared workflow context for use by subsequent agents",
      "input_schema": {
        "type": "object",
        "properties": {
          "agent_id": {
            "type": "string",
            "description": "ID of the agent storing data (content_review, geo_audit, etc.)"
          },
          "agent_results": {
            "type": "object",
            "description": "Complete structured results from the agent execution"
          },
          "workflow_id": {
            "type": "string",
            "description": "Unique identifier for the workflow execution"
          },
          "execution_order": {
            "type": "number",
            "description": "Sequential order of agent execution (1-6)"
          },
          "data_quality_score": {
            "type": "number",
            "description": "Quality score of the data (0.0-1.0)"
          },
          "timestamp": {
            "type": "string",
            "description": "ISO timestamp of data storage"
          }
        },
        "required": ["agent_id", "agent_results", "workflow_id", "execution_order"]
      }
    },
    {
      "name": "osa_retrieve_workflow_context",
      "description": "Retrieve accumulated workflow context data for current agent execution",
      "input_schema": {
        "type": "object",
        "properties": {
          "workflow_id": {
            "type": "string",
            "description": "Unique identifier for the workflow execution"
          },
          "requesting_agent": {
            "type": "string",
            "description": "ID of agent requesting context data"
          },
          "include_agents": {
            "type": "array",
            "description": "Specific agent IDs to include in context (empty = all previous)"
          }
        },
        "required": ["workflow_id", "requesting_agent"]
      }
    },
    {
      "name": "osa_send_data_to_osa_webhook",
      "description": "Send agent data and results to OSA application via webhook for real-time updates",
      "input_schema": {
        "type": "object",
        "properties": {
          "agent_name": {
            "type": "string",
            "description": "Name of the agent sending data (matches OSA endpoint schema)"
          },
          "execution_results": {
            "type": "object",
            "description": "Agent execution results and insights (matches OSA endpoint schema)"
          },
          "workflow_id": {
            "type": "string",
            "description": "Unique workflow execution identifier"
          },
          "metadata": {
            "type": "object",
            "description": "Agent execution metadata including timestamps, success status, and quality metrics",
            "properties": {
              "execution_status": {
                "type": "string",
                "description": "Current execution status (in_progress, completed, failed, or partial)"
              },
              "execution_time_ms": {
                "type": "number",
                "description": "Agent execution time in milliseconds"
              },
              "timestamp": {
                "type": "string",
                "description": "ISO timestamp of execution"
              },
              "success": {
                "type": "boolean",
                "description": "Whether the agent execution was successful"
              }
            }
          },
          "webhook_endpoint": {
            "type": "string",
            "description": "OSA webhook endpoint (webhooks/opal-workflow or opal/workflow-results)",
            "default": "webhooks/opal-workflow"
          }
        },
        "required": ["agent_name", "execution_results", "workflow_id", "metadata"]
      }
    },
    {
      "name": "osa_validate_workflow_data",
      "description": "Validate workflow data quality and completeness before agent execution",
      "input_schema": {
        "type": "object",
        "properties": {
          "workflow_id": {
            "type": "string",
            "description": "Workflow execution identifier"
          },
          "validation_criteria": {
            "type": "object",
            "description": "Criteria for data quality validation"
          },
          "minimum_quality_score": {
            "type": "number",
            "description": "Minimum acceptable quality score"
          }
        },
        "required": ["workflow_id"]
      }
    },
    {
      "name": "osa_compile_final_results",
      "description": "Compile all workflow agent results into comprehensive strategy brief for final delivery",
      "input_schema": {
        "type": "object",
        "properties": {
          "workflow_id": {
            "type": "string",
            "description": "Workflow execution identifier"
          },
          "compilation_format": {
            "type": "string",
            "description": "Output format for compiled results (executive_summary, detailed_brief, or comprehensive)"
          },
          "include_quality_metrics": {
            "type": "boolean",
            "description": "Include data quality and validation metrics"
          },
          "delivery_endpoints": {
            "type": "array",
            "description": "OSA endpoints for result delivery"
          }
        },
        "required": ["workflow_id"]
      }
    },
    {
      "name": "osa_track_strategy_progress",
      "description": "Monitor strategy implementation progress across phases with milestone tracking and confidence scoring",
      "input_schema": {
        "type": "object",
        "properties": {
          "phase_data": {
            "type": "object",
            "description": "Implementation phase progress and completion metrics"
          },
          "milestone_status": {
            "type": "array",
            "description": "Status of key implementation milestones"
          },
          "confidence_metrics": {
            "type": "object",
            "description": "Confidence scores for strategy execution"
          }
        },
        "required": ["phase_data"]
      }
    },
    {
      "name": "osa_validate_maturity_level",
      "description": "Assess organizational personalization maturity and readiness for advanced strategies",
      "input_schema": {
        "type": "object",
        "properties": {
          "maturity_indicators": {
            "type": "object",
            "description": "Technical, content, and organizational maturity metrics"
          },
          "readiness_assessment": {
            "type": "object",
            "description": "Assessment of readiness for personalization advancement"
          }
        },
        "required": ["maturity_indicators"]
      }
    },
    {
      "name": "osa_generate_roadmap_insights",
      "description": "Create strategic roadmap with timeline, priorities, and implementation guidance",
      "input_schema": {
        "type": "object",
        "properties": {
          "timeline_data": {
            "type": "object",
            "description": "Implementation timeline with phases and dependencies"
          },
          "priority_analysis": {
            "type": "object",
            "description": "Priority scoring and rationale for initiatives"
          },
          "resource_requirements": {
            "type": "object",
            "description": "Resource needs and implementation guidance"
          }
        },
        "required": ["timeline_data", "priority_analysis"]
      }
    },
    {
      "name": "osa_monitor_workflow_health",
      "description": "Monitor real-time workflow execution health with performance metrics and alerts",
      "input_schema": {
        "type": "object",
        "properties": {
          "health_metrics": {
            "type": "object",
            "description": "Real-time workflow health indicators and performance data"
          },
          "alert_thresholds": {
            "type": "object",
            "description": "Configurable alert thresholds for monitoring"
          },
          "diagnostic_data": {
            "type": "object",
            "description": "Diagnostic information for troubleshooting"
          }
        },
        "required": ["health_metrics"]
      }
    },
    {
      "name": "osa_track_agent_performance",
      "description": "Track individual OPAL agent performance metrics and optimization opportunities",
      "input_schema": {
        "type": "object",
        "properties": {
          "agent_metrics": {
            "type": "object",
            "description": "Performance metrics for individual agents"
          },
          "execution_analytics": {
            "type": "object",
            "description": "Agent execution patterns and optimization insights"
          },
          "performance_trends": {
            "type": "object",
            "description": "Historical performance trends and patterns"
          }
        },
        "required": ["agent_metrics"]
      }
    },
    {
      "name": "osa_analyze_data_insights",
      "description": "Analyze aggregated workflow data to generate strategic insights and recommendations",
      "input_schema": {
        "type": "object",
        "properties": {
          "analytics_scope": {
            "type": "object",
            "description": "Scope and parameters for data analysis"
          },
          "insight_categories": {
            "type": "array",
            "description": "Categories of insights to generate (content, audience, technical, etc.)"
          },
          "trend_analysis": {
            "type": "object",
            "description": "Trend analysis parameters and timeframes"
          }
        },
        "required": ["analytics_scope", "insight_categories"]
      }
    },
    {
      "name": "osa_calculate_impact_metrics",
      "description": "Calculate business impact metrics and performance improvements from personalization strategies",
      "input_schema": {
        "type": "object",
        "properties": {
          "impact_categories": {
            "type": "array",
            "description": "Categories of impact to measure (engagement, conversion, performance, etc.)"
          },
          "baseline_data": {
            "type": "object",
            "description": "Baseline metrics for comparison"
          },
          "measurement_period": {
            "type": "object",
            "description": "Time period for impact measurement"
          }
        },
        "required": ["impact_categories", "baseline_data"]
      }
    },
    {
      "name": "osa_generate_content_insights",
      "description": "Generate insights about content performance, gaps, and optimization opportunities across topics",
      "input_schema": {
        "type": "object",
        "properties": {
          "content_analysis": {
            "type": "object",
            "description": "Content performance and topic analysis data"
          },
          "gap_analysis": {
            "type": "object",
            "description": "Content gaps and opportunity identification"
          },
          "optimization_recommendations": {
            "type": "array",
            "description": "Specific content optimization recommendations"
          }
        },
        "required": ["content_analysis"]
      }
    },
    {
      "name": "osa_predict_next_agent_needs",
      "description": "Predict optimal next agent based on current workflow context and user goals",
      "input_schema": {
        "type": "object",
        "properties": {
          "current_workflow_state": {
            "type": "object",
            "description": "Current workflow context and completion status"
          },
          "user_goals": {
            "type": "array",
            "description": "User's stated objectives and priorities"
          },
          "agent_performance_history": {
            "type": "object",
            "description": "Historical performance data for agent selection"
          }
        },
        "required": ["current_workflow_state", "user_goals"]
      }
    },
    {
      "name": "osa_share_insights_across_agents",
      "description": "Share relevant insights between agents for cross-pollination",
      "input_schema": {
        "type": "object",
        "properties": {
          "source_agent": {
            "type": "string",
            "description": "Agent sharing the insights"
          },
          "target_agents": {
            "type": "array",
            "description": "Target agents to receive insights"
          },
          "insight_data": {
            "type": "object",
            "description": "Structured insights to share"
          },
          "relevance_score": {
            "type": "number",
            "description": "Relevance score for insight prioritization"
          }
        },
        "required": ["source_agent", "target_agents", "insight_data"]
      }
    },
    {
      "name": "osa_create_automated_campaign_pipeline",
      "description": "Create seamless strategy to campaign to deployment automation",
      "input_schema": {
        "type": "object",
        "properties": {
          "strategy_data": {
            "type": "object",
            "description": "Complete strategy analysis from all agents"
          },
          "automation_level": {
            "type": "string",
            "enum": ["manual_review", "semi_automated", "fully_automated"],
            "description": "Level of automation for campaign pipeline"
          },
          "approval_workflows": {
            "type": "object",
            "description": "Stakeholder approval requirements and routing"
          }
        },
        "required": ["strategy_data", "automation_level"]
      }
    },
    {
      "name": "osa_analyze_agent_performance_metrics",
      "description": "Analyze agent performance and provide optimization recommendations",
      "input_schema": {
        "type": "object",
        "properties": {
          "performance_data": {
            "type": "object",
            "description": "Comprehensive agent performance metrics"
          },
          "optimization_targets": {
            "type": "array",
            "description": "Performance targets for optimization"
          },
          "time_window": {
            "type": "string",
            "description": "Analysis time window (daily, weekly, monthly)"
          }
        },
        "required": ["performance_data"]
      }
    },
    {
      "name": "osa_log_decision_audit_trail",
      "description": "Log comprehensive audit trail of agent decisions and tool usage",
      "input_schema": {
        "type": "object",
        "properties": {
          "agent_id": {
            "type": "string",
            "description": "Agent making the decision"
          },
          "decision_context": {
            "type": "object",
            "description": "Context and inputs for the decision"
          },
          "decision_rationale": {
            "type": "string",
            "description": "Explanation of decision reasoning"
          },
          "confidence_level": {
            "type": "number",
            "description": "Confidence level (0-100) for the decision"
          },
          "compliance_flags": {
            "type": "array",
            "description": "Compliance and regulatory considerations"
          }
        },
        "required": ["agent_id", "decision_context", "decision_rationale"]
      }
    },
    {
      "name": "osa_create_roadmap_timeline_canvas",
      "description": "Create comprehensive project timeline with milestones, dependencies, and critical path visualization",
      "input_schema": {
        "type": "object",
        "properties": {
          "timeline_data": {
            "type": "object",
            "description": "Project timeline with phases, milestones, and dependencies"
          },
          "critical_path": {
            "type": "array",
            "description": "Critical path tasks and dependencies"
          },
          "visualization_style": {
            "type": "string",
            "enum": ["gantt", "timeline", "kanban"],
            "description": "Preferred visualization style for the timeline"
          },
          "milestone_highlights": {
            "type": "array",
            "description": "Key milestones to emphasize in visualization"
          }
        },
        "required": ["timeline_data"]
      }
    },
    {
      "name": "osa_create_milestone_tracker_canvas",
      "description": "Create interactive milestone tracking with progress indicators and completion status",
      "input_schema": {
        "type": "object",
        "properties": {
          "milestones": {
            "type": "array",
            "description": "List of project milestones with completion status"
          },
          "progress_metrics": {
            "type": "object",
            "description": "Progress tracking metrics and indicators"
          },
          "completion_forecasts": {
            "type": "object",
            "description": "Forecasted completion dates and confidence levels"
          }
        },
        "required": ["milestones"]
      }
    },
    {
      "name": "osa_create_resource_allocation_canvas",
      "description": "Create visual resource planning with team assignments and capacity management",
      "input_schema": {
        "type": "object",
        "properties": {
          "resource_data": {
            "type": "object",
            "description": "Resource availability and allocation data"
          },
          "team_assignments": {
            "type": "array",
            "description": "Team member assignments and responsibilities"
          },
          "capacity_analysis": {
            "type": "object",
            "description": "Capacity utilization and availability analysis"
          },
          "constraint_highlights": {
            "type": "array",
            "description": "Resource constraints and bottlenecks to highlight"
          }
        },
        "required": ["resource_data"]
      }
    },
    {
      "name": "osa_create_dependency_map_canvas",
      "description": "Create strategic dependency visualization showing task relationships and bottlenecks",
      "input_schema": {
        "type": "object",
        "properties": {
          "dependency_graph": {
            "type": "object",
            "description": "Task dependencies and relationships"
          },
          "bottleneck_analysis": {
            "type": "object",
            "description": "Identified bottlenecks and critical dependencies"
          },
          "risk_assessment": {
            "type": "object",
            "description": "Dependency risks and mitigation strategies"
          },
          "visualization_layout": {
            "type": "string",
            "enum": ["network", "hierarchical", "circular"],
            "description": "Preferred layout for dependency visualization"
          }
        },
        "required": ["dependency_graph"]
      }
    }
  ],
  "authentication": {
    "type": "hmac_signature",
    "signature_algorithm": "sha256",
    "signature_header": "X-OSA-Signature",
    "timestamp_included": true,
    "secret_env_var": "OPAL_WEBHOOK_HMAC_SECRET",
    "fallback_auth": {
      "type": "header",
      "header_name": "Authorization",
      "header_value": "Bearer ${OPAL_WORKFLOW_TOKEN}"
    }
  },
  "integration_endpoints": {
    "data_storage": "${OSA_BASE_URL}/api/opal/workflow-data",
    "osa_webhook_agent": "${OSA_BASE_URL}/api/webhooks/opal-workflow",
    "osa_webhook_results": "${OSA_BASE_URL}/api/opal/workflow-results",
    "validation_service": "${OSA_BASE_URL}/api/opal/validate"
  },
  "environment_config": {
    "development": {
      "base_url": "http://localhost:3000",
      "timeout_ms": 10000
    },
    "production": {
      "base_url": "https://opal-2025.vercel.app",
      "timeout_ms": 30000
    }
  }
}