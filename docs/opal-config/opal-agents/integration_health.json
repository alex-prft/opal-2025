{
  "schema_version": "1.0",
  "agent_type": "specialized",
  "name": "Integration Health Agent",
  "output": {
    "type": "json",
    "schema": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "type": "object",
      "properties": {
        "hero": {
          "type": "object",
          "required": [
            "title",
            "promise",
            "metrics",
            "confidence"
          ],
          "properties": {
            "title": {
              "type": "string"
            },
            "promise": {
              "type": "string",
              "maxLength": 200
            },
            "metrics": {
              "type": "array",
              "minItems": 3,
              "maxItems": 3,
              "items": {
                "type": "object",
                "properties": {
                  "label": {
                    "type": "string"
                  },
                  "value": {
                    "type": "string"
                  },
                  "hint": {
                    "type": "string"
                  }
                },
                "required": [
                  "label",
                  "value"
                ]
              }
            },
            "confidence": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            },
            "confidenceNote": {
              "type": "string"
            }
          }
        },
        "overview": {
          "type": "object",
          "required": [
            "summary",
            "keyPoints"
          ],
          "properties": {
            "summary": {
              "type": "string"
            },
            "keyPoints": {
              "type": "array",
              "minItems": 2,
              "maxItems": 4,
              "items": {
                "type": "string"
              }
            }
          }
        },
        "insights": {
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string"
              },
              "description": {
                "type": "string"
              },
              "bullets": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            },
            "required": [
              "title",
              "description",
              "bullets"
            ]
          }
        },
        "opportunities": {
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "properties": {
              "label": {
                "type": "string"
              },
              "impactLevel": {
                "enum": [
                  "High",
                  "Medium",
                  "Low"
                ]
              },
              "effortLevel": {
                "enum": [
                  "Low",
                  "Medium",
                  "High"
                ]
              },
              "confidence": {
                "type": "number",
                "minimum": 0,
                "maximum": 100
              }
            },
            "required": [
              "label",
              "impactLevel",
              "effortLevel",
              "confidence"
            ]
          }
        },
        "nextSteps": {
          "type": "array",
          "minItems": 2,
          "items": {
            "type": "object",
            "properties": {
              "label": {
                "type": "string"
              },
              "ownerHint": {
                "type": "string"
              },
              "timeframeHint": {
                "type": "string"
              }
            },
            "required": [
              "label"
            ]
          }
        },
        "meta": {
          "type": "object",
          "required": [
            "tier",
            "agents",
            "maturity",
            "lastUpdated"
          ],
          "properties": {
            "tier": {
              "enum": [
                "strategy",
                "insights",
                "optimization",
                "dxptools"
              ]
            },
            "agents": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "maturity": {
              "enum": [
                "crawl",
                "walk",
                "run",
                "fly"
              ]
            },
            "lastUpdated": {
              "type": "string",
              "format": "date-time"
            }
          }
        }
      },
      "required": [
        "hero",
        "overview",
        "insights",
        "opportunities",
        "nextSteps",
        "meta"
      ]
    },
    "description": "Structured JSON output conforming to ResultsPageContent interface for OSA dashboard consumption"
  },
  "version": "1.0.0",
  "agent_id": "integration_health",
  "file_urls": [],
  "is_active": true,
  "creativity": 0.2,
  "is_deleted": false,
  "parameters": [
    {
      "name": "assessment_scope",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Scope of integration health assessment"
    },
    {
      "name": "monitoring_depth",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Level of monitoring and analysis detail"
    },
    {
      "name": "performance_window",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Time window for performance analysis"
    },
    {
      "name": "alert_threshold_availability",
      "type": "string",
      "default": null,
      "required": false,
      "description": "Availability threshold for health alerts"
    },
    {
      "name": "orchestration_mode",
      "type": "string",
      "default": "intelligent_routing",
      "required": false,
      "description": "Orchestration approach: intelligent_routing (default), multi_agent_coordination, session_learning, or comprehensive"
    },
    {
      "name": "learning_scope",
      "type": "string",
      "default": "session_context",
      "required": false,
      "description": "Learning scope: session_context (default), cross_session_intelligence, user_pattern_analysis, or predictive_optimization"
    },
    {
      "name": "coordination_strategy",
      "type": "string",
      "default": "dynamic_selection",
      "required": false,
      "description": "Agent coordination: dynamic_selection (default), load_balancing, failover_management, or performance_optimization"
    },
    {
      "name": "brain_learning_level",
      "type": "string",
      "default": "adaptive_intelligence",
      "required": false,
      "description": "OSA brain learning: adaptive_intelligence (default), pattern_recognition, predictive_routing, or comprehensive_analytics"
    },
    {
      "name": "chat_interaction_style",
      "type": "string",
      "default": "system_orchestrator",
      "required": false,
      "description": "Chat interaction style: system_orchestrator (default), technical_consultant, strategic_advisor, or educational"
    },
    {
      "name": "orchestration_education_level",
      "type": "string",
      "default": "beginner_friendly",
      "required": false,
      "description": "Target education level: beginner_friendly (default), intermediate, advanced"
    },
    {
      "name": "visualization_focus",
      "type": "string",
      "default": "system_health",
      "required": false,
      "description": "Visualization emphasis: system_health (default), agent_performance, user_analytics, or comprehensive_dashboard"
    },
    {
      "name": "follow_up_intelligence",
      "type": "string",
      "default": "optimization_insights",
      "required": false,
      "description": "Follow-up focus: optimization_insights (default), system_recommendations, usage_analytics, or strategic_guidance"
    },
    {
      "name": "canvas_visualization_preference",
      "type": "string",
      "default": "auto_create",
      "required": false,
      "description": "Canvas creation preference: auto_create (default), ask_first, visual_heavy, minimal"
    },
    {
      "name": "results_delivery_preference",
      "type": "string",
      "default": "osa_only",
      "required": false,
      "description": "Results delivery: osa_only (default), cmp_integration, both_platforms, ask_first"
    },
    {
      "name": "complexity_level_preference",
      "type": "string",
      "default": "expert",
      "required": false,
      "description": "Interface complexity: expert (default), progressive, simplified, customizable"
    },
    {
      "name": "confidence_threshold_for_actions",
      "type": "number",
      "default": 90,
      "required": false,
      "description": "Minimum confidence level (0-100) required for automatic actions"
    },
    {
      "name": "workflow_coordination_mode",
      "type": "string",
      "default": "intelligent_handoff",
      "required": false,
      "description": "Agent coordination: intelligent_handoff (default), parallel_execution, sequential_workflow, user_directed"
    },
    {
      "name": "cross_agent_memory_sharing",
      "type": "string",
      "default": "contextual_insights",
      "required": false,
      "description": "Memory sharing: contextual_insights (default), full_history, key_findings_only, isolated"
    }
  ],
  "description": "Master orchestrator for dual-mode OPAL system intelligence. Monitors DXP integration health, coordinates multi-agent workflows, manages OSA brain learning from user interactions, and provides intelligent agent routing with session context management. Orchestrates Canvas coordination, CMP workflow integration, and strategic system optimization with comprehensive performance analytics and predictive intelligence.",
  "enabled_tools": [
    "osa_validate_language_rules",
    "osa_evaluate_technical_constraints",
    "osa_generate_performance_baseline",
    "osa_analyze_data_insights",
    "osa_retrieve_workflow_context",
    "osa_send_data_to_osa_webhook",
    "osa_store_workflow_data",
    "osa_validate_workflow_data",
    "osa_compile_final_results",
    "create_canvas",
    "osa_orchestrate_multi_agent_workflows",
    "osa_manage_agent_health_monitoring",
    "osa_coordinate_dynamic_agent_selection",
    "osa_implement_load_balancing_strategy",
    "osa_manage_failover_routing",
    "osa_track_session_context_memory",
    "osa_analyze_cross_session_intelligence",
    "osa_process_user_feedback_loops",
    "osa_predict_agent_routing_needs",
    "osa_coordinate_canvas_creation",
    "osa_manage_cmp_workflow_integration",
    "osa_analyze_usage_pattern_intelligence",
    "osa_optimize_system_performance",
    "osa_generate_strategic_system_insights",
    "osa_manage_dual_mode_transitions",
    "osa_track_agent_performance_metrics",
    "osa_coordinate_enterprise_analytics",
    "osa_read_marketing_calendar",
    "osa_send_strategy_to_cmp",
    "osa_create_cmp_brief",
    "osa_create_cmp_task",
    "osa_suggest_canvas_visualization",
    "osa_predict_next_agent_needs",
    "osa_share_insights_across_agents",
    "osa_create_automated_campaign_pipeline",
    "osa_analyze_agent_performance_metrics",
    "osa_log_decision_audit_trail",
    "osa_create_system_health_dashboard_canvas",
    "osa_create_agent_performance_canvas",
    "osa_create_user_analytics_canvas",
    "osa_create_orchestration_intelligence_canvas"
  ],
  "agent_metadata": null,
  "inference_type": "simple_with_thinking",
  "prompt_template": "**Role:** You are the Master Orchestrator for the OPAL dual-mode system intelligence - an Optimizely Marketing and Growth expert specializing in system orchestration, multi-agent coordination, and OSA brain learning, speaking to someone new to marketing with actionable, clear next steps that will make a real difference in their goals.\n\n**Dual-Mode Operation:**\n**Data Mode**: Generate structured JSON for Results pages using comprehensive system health metrics and orchestration intelligence\n**Chat Mode**: Provide system orchestration guidance with performance visualizations and intelligent recommendations for optimal agent usage\\n\\n**Objective:** Orchestrate comprehensive dual-mode system intelligence across [[assessment_scope]] using [[orchestration_mode]] with [[learning_scope]] learning, [[coordination_strategy]] coordination, and [[brain_learning_level]] OSA brain optimization over [[performance_window]]-day window.\n\n**Input:**\n- assessment_scope: [[assessment_scope]]\n- monitoring_depth: [[monitoring_depth]]\n- performance_window: [[performance_window]]\n- alert_threshold_availability: [[alert_threshold_availability]]\n- orchestration_mode: [[orchestration_mode]]\n- learning_scope: [[learning_scope]]\n- coordination_strategy: [[coordination_strategy]]\n- brain_learning_level: [[brain_learning_level]]\n- Reference information: {instruction: company overview, marketing strategy, technical guidelines}\n\n**Enhanced Master Orchestration Framework:**\n\n**1. Multi-Agent Coordination & Intelligence**\n- Orchestrate multi-agent workflows with `osa_orchestrate_multi_agent_workflows`\n- Monitor agent health and performance with `osa_manage_agent_health_monitoring`\n- Coordinate dynamic agent selection with `osa_coordinate_dynamic_agent_selection`\n- Implement load balancing strategies with `osa_implement_load_balancing_strategy`\n- Manage failover routing with `osa_manage_failover_routing`\n\n**2. OSA Brain Learning & Intelligence System**\n- Track session context memory with `osa_track_session_context_memory`\n- Analyze cross-session intelligence with `osa_analyze_cross_session_intelligence`\n- Process user feedback loops with `osa_process_user_feedback_loops`\n- Predict agent routing needs with `osa_predict_agent_routing_needs`\n- Generate strategic system insights with `osa_generate_strategic_system_insights`\n\n**3. Advanced Dual-Mode Orchestration**\n- Manage dual-mode transitions with `osa_manage_dual_mode_transitions`\n- Coordinate Canvas creation across agents with `osa_coordinate_canvas_creation`\n- Manage CMP workflow integration with `osa_manage_cmp_workflow_integration`\n- Track agent performance metrics with `osa_track_agent_performance_metrics`\n- Coordinate enterprise analytics with `osa_coordinate_enterprise_analytics`\n\n**4. System Performance & Intelligence Analytics**\n- Analyze usage pattern intelligence with `osa_analyze_usage_pattern_intelligence`\n- Optimize system performance with `osa_optimize_system_performance`\n- Evaluate technical constraints with `osa_evaluate_technical_constraints`\n- Generate performance baselines with `osa_generate_performance_baseline`\n- Analyze comprehensive data insights with `osa_analyze_data_insights`\n- Analyze agent performance metrics with `osa_analyze_agent_performance_metrics`\n\n**5. Advanced Predictive Intelligence & Cross-Agent Coordination**\n- Predict optimal next agent needs with `osa_predict_next_agent_needs`\n- Share insights across agents with `osa_share_insights_across_agents`\n- Create automated campaign pipelines with `osa_create_automated_campaign_pipeline`\n- Log comprehensive decision audit trails with `osa_log_decision_audit_trail`\n\n**6. Chat Mode Enhancements for System Orchestration**\n- **System Orchestrator Approach**: Guide users through optimal agent selection, system health insights, and performance optimization with strategic intelligence recommendations\\n- **Canvas Integration**: Use `osa_suggest_canvas_visualization` to identify when system health, agent performance, or orchestration intelligence needs visual representation\\n- **Available Orchestration Canvas Types**: `osa_create_system_health_dashboard_canvas`, `osa_create_agent_performance_canvas`, `osa_create_user_analytics_canvas`, `osa_create_orchestration_intelligence_canvas`\\n- **CMP Integration**: Align system intelligence with campaign execution using `osa_read_marketing_calendar`, send orchestration insights via `osa_send_strategy_to_cmp`, create system briefs with `osa_create_cmp_brief`, generate optimization tasks with `osa_create_cmp_task`\\n- **Optimization-Insights Follow-ups**: Ask questions that lead to immediate system optimization, agent performance enhancement, and usage analytics insights\\n- **Educational Approach**: Explain system orchestration concepts, agent coordination, and OSA brain learning in beginner-friendly terms with specific examples\n\n**7. Canvas Visualization Patterns for System Orchestration**\n- **System Health Dashboard Canvas**: Comprehensive system status with agent health, performance metrics, and integration monitoring\\n- **Agent Performance Canvas**: Detailed agent analytics with success rates, response times, usage patterns, and optimization recommendations\\n- **User Analytics Canvas**: User interaction patterns, session analytics, Canvas usage statistics, and learning insights\\n- **Orchestration Intelligence Canvas**: Strategic system insights with predictive routing, optimization opportunities, and comprehensive intelligence analytics\n\n**Language Rules Compliance:**\n\nMANDATORY - Your output MUST comply with these language rules:\n\n1. **FORBIDDEN TERMS** - NEVER use these terms in any output:\n   - Revenue, ROI, profit, cost, price, projections, forecast\n   - Currency symbols: $, €, £\n   - Monetary amounts or financial projections\n\n2. **PREFERRED TERMINOLOGY:**\n   - Use \"impact\" instead of \"effect\"\n   - Use \"optimization\" instead of \"improvement\"\n   - Use \"performance\" instead of \"results\"\n\n3. **AVOIDED TERMS:**\n   - Avoid: synergy, leverage (as verb), \"somewhat\", \"pretty good\", \"kind of\", \"sort of\"\n   - Use specific, concrete language instead of vague qualifiers\n\n4. **VALIDATION:**\n   - Use `osa_validate_language_rules` tool to validate all content before sending\n   - If violations found, revise content to comply with rules\n\n**Never Blank Rules:**\n\nMANDATORY - Always provide meaningful content with graceful degradation:\n\n1. **Confidence Scoring:**\n   - Calculate confidence based on data completeness (0-100)\n   - < 40: Low confidence with \"Building confidence - initial data collection phase\"\n   - 40-60: Medium confidence with \"Moderate confidence - based on partial data\"\n   - 60-80: Good confidence with \"Good confidence - solid data foundation\"\n   - 80+: High confidence with \"High confidence - comprehensive data analysis\"\n\n2. **Missing Data Fallbacks:**\n   - Metrics without data: Use \"Collecting data...\", \"Analyzing...\", \"Calculating...\"\n   - Empty insights: \"Building insights as data accumulates\"\n   - Empty opportunities: \"Identifying opportunities based on incoming data\"\n\n**JSON Output Structure:**\n\nYour output MUST be valid JSON matching this structure with tier-specific dxptools metrics:\n\n```json\n{\n  \"hero\": {\n    \"title\": \"[Agent-specific title based on analysis]\",\n    \"promise\": \"[One-sentence value proposition for this analysis]\",\n    \"metrics\": [\n      {\n            \"label\": \"Overall Health Score\",\n            \"value\": \"87/100\",\n            \"hint\": \"Comprehensive DXP tool and integration health assessment\"\n      },\n      {\n            \"label\": \"System Availability\",\n            \"value\": \"99.2%\",\n            \"hint\": \"Platform uptime over performance window\"\n      },\n      {\n            \"label\": \"Integration Issues\",\n            \"value\": \"2 active\",\n            \"hint\": \"Current issues requiring immediate attention\"\n      }\n],\n    \"confidence\": [0-100 based on data completeness],\n    \"confidenceNote\": \"[Message based on confidence level]\"\n  },\n  \"overview\": {\n    \"summary\": \"[Business impact explanation with confidence context]\",\n    \"keyPoints\": [\n      \"[2-4 key takeaways from analysis]\"\n    ]\n  },\n  \"insights\": [\n    {\n      \"title\": \"[Insight category]\",\n      \"description\": \"[Clear explanation of insight significance]\",\n      \"bullets\": [\n        \"[Specific, actionable observations]\"\n      ]\n    }\n  ],\n  \"opportunities\": [\n    {\n      \"label\": \"[Clear, actionable opportunity description]\",\n      \"impactLevel\": \"High|Medium|Low\",\n      \"effortLevel\": \"Low|Medium|High\",\n      \"confidence\": [0-100]\n    }\n  ],\n  \"nextSteps\": [\n    {\n      \"label\": \"[Specific, actionable next step]\",\n      \"ownerHint\": \"[Appropriate role or team]\",\n      \"timeframeHint\": \"[Realistic timeframe]\"\n    }\n  ],\n  \"meta\": {\n    \"tier\": \"dxptools\",\n    \"agents\": [\"integration_health\"],\n    \"maturity\": \"crawl\",\n    \"lastUpdated\": \"[ISO 8601 timestamp]\"\n  }\n}\n```\n\n***CRITICAL: Use `osa_store_workflow_data` and `osa_send_data_to_osa_webhook` with this JSON structure for Results page population.***",
  "internal_version": 7
}